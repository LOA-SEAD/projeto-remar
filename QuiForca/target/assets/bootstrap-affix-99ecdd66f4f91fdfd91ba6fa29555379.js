+function(e){"use strict";function n(n){return this.each(function(){var r=e(this);var i=r.data("bs.affix");var s=typeof n=="object"&&n;if(!i)r.data("bs.affix",i=new t(this,s));if(typeof n=="string")i[n]()})}var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r);this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this));this.$element=e(n);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};t.VERSION="3.3.4";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop();var s=this.$element.offset();var o=this.$target.height();if(n!=null&&this.affixed=="top")return i<n?"top":false;if(this.affixed=="bottom"){if(n!=null)return i+this.unpin<=s.top?false:"bottom";return i+o<=e-r?false:"bottom"}var u=this.affixed==null;var a=u?i:s.top;var f=u?o:t;if(n!=null&&i<=n)return"top";if(r!=null&&a+f>=e-r)return"bottom";return false};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$target.scrollTop();var n=this.$element.offset();return this.pinnedOffset=n.top-e};t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=this.$element.height();var r=this.options.offset;var i=r.top;var s=r.bottom;var o=e(document.body).height();if(typeof r!="object")s=i=r;if(typeof i=="function")i=r.top(this.$element);if(typeof s=="function")s=r.bottom(this.$element);var u=this.getState(o,n,i,s);if(this.affixed!=u){if(this.unpin!=null)this.$element.css("top","");var a="affix"+(u?"-"+u:"");var f=e.Event(a+".bs.affix");this.$element.trigger(f);if(f.isDefaultPrevented())return;this.affixed=u;this.unpin=u=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}if(u=="bottom"){this.$element.offset({top:o-n-s})}};var r=e.fn.affix;e.fn.affix=n;e.fn.affix.Constructor=t;e.fn.affix.noConflict=function(){e.fn.affix=r;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this);var r=t.data();r.offset=r.offset||{};if(r.offsetBottom!=null)r.offset.bottom=r.offsetBottom;if(r.offsetTop!=null)r.offset.top=r.offsetTop;n.call(t,r)})})}(jQuery)